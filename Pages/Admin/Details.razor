@page "/admin/books/details/{id:long}"



<h2>@b.Title</h2>

<div>
    <div>
        Author: @b.Author
    </div>
    <div>
        Publisher: @b.Publisher
    </div>
    <div>
        ISBN: @b.ISBN
    </div>
    <div>
        Category: @b.Category.CategoryName
    </div>
    <div>
        Classification: @b.Classification.ClassificationName
    </div>
    <div>
        Number of Pages: @b.Pages
    </div>
    <div>
        Price: @b.Price
    </div>
</div>


<NavLink href="@EditUrl(b.BookId)">Edit Book</NavLink>
<br/>
<NavLink href="/admin">&larr; Go Back</NavLink>




@code {

    [Inject]
    public IBookRepository repo { get; set; }

    [Parameter]
    public long Id { get; set; }

    public Book b { get; set; }

    protected override void OnParametersSet()
    {
        b = repo.Books
            .Include(x => x.Category)
            .Include(x => x.Classification)
            .FirstOrDefault(x => x.BookId == Id);
    }

    public string EditUrl(long id) => $"/admin/books/edit/{id}";


}
